(this.webpackJsonpmaghour=this.webpackJsonpmaghour||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/chatting.1c928665.jpg"},167:function(e,t,a){},246:function(e,t,a){e.exports=a.p+"static/media/starter.8d558a26.png"},254:function(e,t,a){e.exports=a(503)},259:function(e,t,a){},264:function(e,t,a){},459:function(e,t,a){},465:function(e,t,a){},466:function(e,t,a){},469:function(e,t,a){},471:function(e,t,a){},503:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(58),l=a.n(c),o=(a(259),a(14)),s=a(15),i=a(16),u=a(17),m=a(8),h=a(37),p=a(12),E=(a(264),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.auth;return r.a.createElement("div",{className:"large"},r.a.createElement("div",{className:"dashboard start container"},e.uid?r.a.createElement("section",null,r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"jumbotron jumbotron-fluid py-5"},r.a.createElement("div",{className:"container text-center py-5"},r.a.createElement("h1",{className:"display-4 welcome"},"Welcome to MagHour"),r.a.createElement("br",null),r.a.createElement("p",{className:"lead"},"A great place to share your thoughts with friends"),r.a.createElement("br",null),r.a.createElement("div",{className:"mt-4 center"},r.a.createElement(m.b,{className:"btn btn-primary px-5 mr-3 create",to:"/chat"},"Chat")))),r.a.createElement("br",null))):r.a.createElement("section",null,r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"jumbotron jumbotron-fluid py-5"},r.a.createElement("div",{className:"container text-center py-5"},r.a.createElement("h1",{className:"display-4 welcome"},"Welcome to MagHour"),r.a.createElement("br",null),r.a.createElement("p",{className:"lead"},"A great place to share your thoughts with friends"),r.a.createElement("br",null),r.a.createElement("div",{className:"mt-4 center"},r.a.createElement(m.b,{className:"btn btn-primary px-5 mr-3 create",to:"/signup"},"Create New Account"),r.a.createElement("br",null),r.a.createElement(m.b,{className:"btn btn-secondary px-5 log center",to:"/login"},"Login to Your Account")))),r.a.createElement("br",null)))))}}]),a}(n.Component)),d=Object(p.b)((function(e){return console.log(e),{auth:e.firebase.auth}}))(E),f=a(21),b=a.n(f),g=a(35),v=a(33),N=a(242),y=a.n(N),O=(a(167),a(507)),C=a(252),j=a(243),w=a.n(j),x=a(244),S=a.n(x),I=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).removeItem=function(){var t=e.props.chat.id;return e.props.deleteChat(t)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.chat,n=t.auth;return r.a.createElement(O.a,{className:"chat-bubble text-center "+(n.uid===a.authorId?"current-user":""),style:{width:"18rem"}},r.a.createElement("div",{className:"cart-icon col-10 mx-auto col-lg-2",onClick:function(){return e.removeItem()}},r.a.createElement(C.a,null)),r.a.createElement(O.a.Header,null,r.a.createElement("strong",null,a.authorUserName),r.a.createElement("br",null),r.a.createElement("strong",null,w()(a.createdAt.toDate()).format("MMMM Do YYYY, h:mm a"))),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Text,null,S.a.emojify(a.content))))}}]),a}(n.Component),k=Object(p.b)(null,(function(e){return{deleteChat:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().firestore().collection("chats").doc(e).delete().then((function(){t({type:"DELETE_CHAT"})})).catch((function(e){t({type:"DELETE_CHAT_ERROR",err:e})}))}}(t))}}}))(I),A=a(28),R=a(36),L=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={content:"",error:""},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.id,t.target.value))},e.handleSubmit=function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,e.props.createChat(e.state);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e.setState({error:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.chats,a=e.auth,n=e.profile;return a.uid?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement(y.a,{className:"messages"},r.a.createElement("div",{className:"chat-area",ref:this.myRef},t&&t.map((function(e){return r.a.createElement(k,{chat:e,auth:a})})))),r.a.createElement("div",{className:"text"},r.a.createElement("label",{htmlFor:"text"},"Chat Here!"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"mx-3"},r.a.createElement("textarea",{className:"form-control chat-bubble chat-form",name:"content",onChange:this.handleChange,value:this.state.content,id:"content"}),this.state.error?r.a.createElement("p",{className:"text-danger"},this.state.error):null,this.state.content&&" "!==this.state.content?r.a.createElement("button",{type:"submit",className:"btn btn-submit px-5 mt-4 button chat-bubble"},"Send"):null)),r.a.createElement("div",{className:"py-5 mx-3 text"},"Logged in as:"," ",r.a.createElement("strong",{className:"text-info"},n.username)))):r.a.createElement(h.a,{to:"/login"})}}]),a}(n.Component),_=Object(A.d)(Object(p.b)((function(e){return console.log(e),{chats:e.firestore.ordered.chats,auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{createChat:function(t){return e(function(e){return function(t,a,n){var r=(0,n.getFirebase)().firestore(),c=a().firebase.profile,l=a().firebase.auth.uid;r.collection("chats").add({content:e.content,authorUserName:c.username,authorId:l,createdAt:new Date}).then((function(){t({type:"CREATE_CHAT",chat:e})})).catch((function(e){t({type:"CREATE_CHAT_ERROR",err:e})}))}}(t))}}})),Object(R.firestoreConnect)([{collection:"chats",orderBy:["createdAt","asc"]}]))(L),U=(a(459),a(103)),T=a.n(U),F=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:null,email:"",password:"",userName:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.id,t.target.value))},e.handleSubmit=function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault();try{e.props.signUp(e.state)}catch(n){e.setState({error:n.message})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(a,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("img",{className:"smile",src:T.a,alt:"smiling"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{className:"mt-5 py-5 px-5",onSubmit:this.handleSubmit},r.a.createElement("h1",null,r.a.createElement("div",{className:"title-text"},"Sign Up to "),r.a.createElement(m.b,{className:"title ml-2",to:"/"},"MagHour")),r.a.createElement("p",{className:"lead"},"Fill in the form below to create an account."),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Username",name:"username",id:"userName",type:"text",onChange:this.handleChange,value:this.state.userName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Firstname",name:"firstname",id:"firstName",type:"text",onChange:this.handleChange,value:this.state.firstName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Lastname",name:"lastname",type:"text",id:"lastName",onChange:this.handleChange,value:this.state.lastName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",type:"email",id:"email",onChange:this.handleChange,value:this.state.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Password",name:"password",id:"password",onChange:this.handleChange,value:this.state.password,type:"password"})),r.a.createElement("div",{className:"form-group"},this.state.error?r.a.createElement("p",{className:"text-danger"},this.state.error):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary px-5",type:"submit"},"Sign up")),r.a.createElement("hr",null),r.a.createElement("p",{className:"already"},"Already have an account?"," ",r.a.createElement(m.b,{className:"move",to:"/login"},"Login"))))}}]),a}(n.Component),H=Object(p.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,c=r().firestore();r().auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.userName[0],username:e.userName})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(F),P=a(48),D=a.n(P);a(460),a(462);D.a.initializeApp({apiKey:"AIzaSyAdL9cx-B7e-ALymPhHM3CrnrBXxmuK_Uo",authDomain:"mag-hour.firebaseapp.com",databaseURL:"https://mag-hour.firebaseio.com",projectId:"mag-hour",storageBucket:"mag-hour.appspot.com",messagingSenderId:"177218748401",appId:"1:177218748401:web:07c7ff72636a29ee580e50",measurementId:"G-LJJBNCXL5T"});var G=D.a,M=D.a.auth;D.a.firestore();function K(){var e=new M.GoogleAuthProvider;return M().signInWithPopup(e)}function B(){var e=new M.GithubAuthProvider;return M().signInWithPopup(e)}a(465);var W=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={error:null,email:"",password:""},e.handleChange=function(t){e.setState(Object(v.a)({},t.target.id,t.target.value))},e.handleSubmit=function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,e.props.signIn(e.state);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e.setState({error:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e.googleSignIn=Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e.setState({error:t.t0.message});case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e.githubSignIn=Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0),e.setState({error:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))),e}return Object(s.a)(a,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement(h.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("img",{className:"smile",src:T.a,alt:"smiling"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{className:"mt-5 py-5 px-5",onSubmit:this.handleSubmit},r.a.createElement("h1",null,r.a.createElement("div",{className:"title-text"},"Sign Up to "),r.a.createElement(m.b,{className:"title ml-2",to:"/"},"MagHour")),r.a.createElement("p",{className:"lead"},"Fill in the form below to create an account."),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",type:"email",id:"email",onChange:this.handleChange,value:this.state.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",placeholder:"Password",name:"password",id:"password",onChange:this.handleChange,value:this.state.password,type:"password"})),r.a.createElement("div",{className:"form-group"},this.state.error?r.a.createElement("div",null,r.a.createElement("p",{className:"text-danger"},this.state.error)):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary px-5",type:"submit"},"Sign up")),r.a.createElement("p",{className:"also"},"You can also sign up with any of these services"),r.a.createElement("div",{className:"another-google"},r.a.createElement("button",{className:"btn btn-danger mr-2 google",type:"button",onClick:this.googleSignIn},"Sign up with Google")),r.a.createElement("div",{className:"another-github"},r.a.createElement("button",{className:"btn btn-secondary github",type:"button",onClick:this.githubSignIn},"Sign up with GitHub")),r.a.createElement("hr",null),r.a.createElement("p",{className:"already"},"Don't have an account?"," ",r.a.createElement(m.b,{className:"move",to:"/signup"},"Signup"))))}}]),a}(n.Component),Y=Object(p.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(W),J=a(246),z=a.n(J),X=a(505),$=a(506),q=(a(466),Object(p.b)((function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.auth,a=e.profile,n=e.signOut;return console.log(a),r.a.createElement("header",{className:"long high"},r.a.createElement("div",null,r.a.createElement("div",{bg:"black"},r.a.createElement(X.a,{bg:"dark",variant:"dark",expand:"lg",fixed:"top"},r.a.createElement(X.a.Brand,{href:"/"},r.a.createElement("img",{src:z.a,alt:"maghour",length:"60px",width:"60px"}),"MagHour"),r.a.createElement(X.a.Toggle,{"aria-controls":"basic-navbar-nav",bg:"dark",variant:"dark"}),r.a.createElement(X.a.Collapse,{id:"basic-navbar-nav"},t.uid?r.a.createElement($.a,{className:"justify-content-center hi",activeKey:"/home"},r.a.createElement($.a.Item,null,r.a.createElement($.a.Link,{href:"/chat",eventKey:"/chat"},"Message")),r.a.createElement($.a.Item,null,r.a.createElement($.a.Link,{href:"/chat",eventKey:"/chat"},"Class")),r.a.createElement($.a.Item,null,r.a.createElement($.a.Link,{href:"/chat",eventKey:"/chat"},"School")),r.a.createElement($.a.Item,null,r.a.createElement($.a.Link,{href:"/chat",eventKey:"/chat"},"Profile")),r.a.createElement($.a.Item,{onClick:function(){return n()}},r.a.createElement($.a.Link,null,"Logout"))):r.a.createElement($.a,{className:"justify-content-center hi",activeKey:"/home"},r.a.createElement($.a.Item,null,r.a.createElement($.a.Link,{href:"/login",eventKey:"/login"},"Signin")),r.a.createElement($.a.Item,null,r.a.createElement($.a.Link,{href:"/signup",eventKey:"/signup"},"Signup")),r.a.createElement($.a.Item,null,r.a.createElement($.a.Link,{href:"/about",eventKey:"/about"},"About"))))))))})));var Q=function(){return r.a.createElement("footer",{className:"pt-5"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("p",null,"\xa9MagHour2020.")))},V=(a(469),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(q,null),r.a.createElement("section",null,r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"jumbotron jumbotron-fluid py-5"},r.a.createElement("div",{className:"container text-center py-5"},r.a.createElement("br",null),r.a.createElement("h5",null,r.a.createElement(m.b,{className:"btn btn-primary px-5 mr-3 create",to:"/signup"},"Imformation for schools"),r.a.createElement("br",null),r.a.createElement(m.b,{className:"btn btn-primary px-5 mr-3 create",to:"/signup"},"Imformation for parents"),r.a.createElement("br",null),r.a.createElement(m.b,{className:"btn btn-primary px-5 mr-3 create",to:"/signup"},"Imformation for Children")),r.a.createElement("h1",{className:"display-4 welcome"},"about"),r.a.createElement("p",{className:"lead"},"A great place to share your thoughts with friends"),r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement("div",{className:"foot"},r.a.createElement(Q,null)))))}}]),a}(n.Component)),Z=(a(470),a(471),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:d}),r.a.createElement(h.b,{path:"/chat",component:_}),r.a.createElement(h.b,{path:"/signup",component:H}),r.a.createElement(h.b,{path:"/login",component:Y}),r.a.createElement(h.b,{path:"/about",component:V})),r.a.createElement(Q,null)))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee={},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CHAT":return console.log("created chat",t.chat),e;case"CREATE_CHAT_ERROR":return console.log("create chat error",t.err),e;case"DELETE_CHAT":return console.log("Deleted chat"),e;case"DELETE_CHAT_ERROR":return console.log("Delete chat error"),e;default:return e}},ae=a(74),ne={authError:null},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(ae.a)({},e,{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(ae.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(ae.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(ae.a)({},e,{authError:t.err.message});default:return e}},ce=a(59),le=Object(A.c)({auth:re,chats:te,firebase:R.firebaseReducer,firestore:ce.firestoreReducer}),oe=a(251),se=Object(A.e)(le,{},Object(A.d)(Object(A.a)(oe.a.withExtraArgument({getFirebase:R.getFirebase,getFirestore:ce.getFirestore})),Object(ce.reduxFirestore)(G))),ie={firebase:D.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:se.dispatch,createFirestoreInstance:ce.createFirestoreInstance,RealtimeDB:G},ue=function(e){var t=e.children,a=Object(p.c)((function(e){return e.firebase.auth}));return Object(R.isLoaded)(a)?t:r.a.createElement("div",null)};l.a.render(r.a.createElement(p.a,{store:se},r.a.createElement(R.ReactReduxFirebaseProvider,ie,r.a.createElement(ue,null,r.a.createElement(Z,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[254,1,2]]]);
//# sourceMappingURL=main.7138dace.chunk.js.map