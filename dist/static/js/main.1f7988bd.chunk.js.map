{"version":3,"sources":["starter.png","pages/Home/Home.js","pages/Chat/ChatSummary.js","store/actions/chatActions.js","pages/Chat/Chat.js","pages/Signup/Signup.js","store/actions/authActions.js","services/firebase.js","helpers/auth.js","pages/Login/Login.js","components/Header.js","components/Footer.js","pages/About/About.js","pages/Chat/PrivateChat/ChatList/styles.js","pages/Chat/PrivateChat/ChatList/ChatList.js","pages/Chat/PrivateChat/ChatView/styles.js","pages/Chat/PrivateChat/ChatView/ChatView.js","pages/Chat/PrivateChat/ChatTextBox/styles.js","pages/Chat/PrivateChat/ChatTextBox/ChatTextBox.js","pages/Chat/PrivateChat/NewChat/styles.js","pages/Chat/PrivateChat/NewChat/NewChat.js","pages/Chat/PrivateChat/PrivateChat.js","pages/Profile/Profile.js","App.js","serviceWorker.js","store/reducers/chatReducer.js","store/reducers/authReducer.js","store/reducers/privateChatReducer.js","store/reducers/rootReducer.js","index.js"],"names":["module","exports","HomePage","auth","this","props","className","uid","Paper","to","Component","connect","state","console","log","firebase","ChatSummary","removeItem","id","chat","deleteChat","Card","authorId","style","width","variant","popupId","popupState","cursor","bindTrigger","Popover","bindPopover","anchorOrigin","vertical","horizontal","transformOrigin","Box","p","Typography","onClick","Header","authorUsername","moment","createdAt","toDate","format","Body","Text","ReactEmoji","emojify","content","dispatch","getState","getFirebase","firestore","collection","doc","delete","then","type","catch","err","Chat","error","componentDidUpdate","container","document","getElementById","scrollTo","scrollHeight","handleChange","e","setState","target","value","handleSubmit","a","preventDefault","createChat","message","chats","profile","ref","myRef","map","index","key","htmlFor","onSubmit","name","onChange","username","compose","ordered","add","authorFirstName","firstName","authorLastName","lastName","authorEmail","email","Date","firestoreConnect","orderBy","SignUp","password","userName","confirmPassword","signUpError","signUp","autoComplete","action","method","acceptCharset","required","autoFocus","autocomplete","spellCheck","aria-describedby","newUser","createUserWithEmailAndPassword","resp","user","set","initials","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","signInWithGitHub","GithubAuthProvider","Login","signIn","googleSignIn","githubSignIn","aria-autocomplete","signInError","creds","credentials","signInWithEmailAndPassword","signOut","bg","Navbar","expand","fixed","Brand","href","src","logo","alt","length","Toggle","aria-controls","Collapse","Nav","activeKey","Item","Link","eventKey","Footer","About","styles","theme","root","backgroundColor","palette","background","paper","height","position","left","boxShadow","listItem","newChatBtn","borderRadius","bottom","right","transform","unreadMessage","color","top","ChatList","newChat","newChatBtnFn","selectChat","selectChatFn","userIsSender","messages","sender","classes","List","ListItem","selected","selectedChatIndex","alignItems","ListItemAvatar","Avatar","users","filter","userEmail","split","toUpperCase","ListItemText","primary","secondary","Fragment","component","substring","receiverHasRead","ListItemIcon","Divider","Button","withStyles","overflow","padding","marginLeft","boxSizing","overflowY","userSent","float","clear","wordWrap","marginTop","textAlign","friendSent","chatHeader","fontSize","paddingTop","ChatView","undefined","msg","sendBtn","chatTextBoxContainer","justifyContent","chatTextBox","border","outline","ChatTextBox","chatText","userTyping","keyCode","messageValid","txt","replace","userClickedInput","messageReadFn","submitFn","TextField","placeholder","onKeyUp","onFocus","main","display","spacing","marginRight","breakpoints","up","zIndex","input","form","submit","errorText","NewChat","inputType","submitNewChat","userExists","chatExists","goToChat","buildDocKey","currentUser","sort","join","newChatSubmitFn","sendTo","goToChatFn","docKey","get","exists","usersSnapshot","docs","_doc","data","includes","serverError","history","push","CssBaseline","FormControl","fullWidth","InputLabel","Input","PrivateChat","selectedChat","newChatFormVisible","submitMessage","_usr","update","FieldValue","arrayUnion","timestamp","now","friend","newChatBtnClicked","newChatSubmit","chatObj","chatIndex","messageRead","usersInChat","find","_chat","every","_user","indexOf","clickedMessageWhereNotSender","componentWillMount","onAuthStateChanged","where","onSnapshot","res","friends","Profile","label","defaultValue","InputProps","readOnly","App","exact","path","Home","Signup","Boolean","window","location","hostname","match","initState","chatReducer","authReducer","privateChatReducer","rootReducer","combineReducers","privateChats","firebaseReducer","firestoreReducer","store","createStore","applyMiddleware","thunk","withExtraArgument","getFirestore","reduxFirestore","fbConfig","fbProps","config","userProfile","useFirestoreForProfile","createFirestoreInstance","RealtimeDB","AuthIsLoaded","children","useSelector","isLoaded","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1f7988bd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/starter.8d558a26.png\";","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./home.css\";\r\nimport { Paper } from \"@material-ui/core\";\r\n\r\nclass HomePage extends Component {\r\n  render() {\r\n    const { auth } = this.props;\r\n    return (\r\n      <div className=\"large dashboard\">\r\n        <div className=\"start container\">\r\n          <div className=\"start container\">\r\n            {auth.uid ? (\r\n              <section>\r\n                <div className=\"footer\">\r\n                  <Paper className=\"jumbotron jumbotron-fluid py-7\">\r\n                    <div className=\"container text-center py-7\">\r\n                      <h1 className=\"display-4 welcome\">Welcome to MagHour</h1>\r\n                      <br />\r\n                      <p className=\"lead\">\r\n                        A great place to share your thoughts with friends\r\n                      </p>\r\n                      <br />\r\n                      <div className=\"mt-4 center\">\r\n                        <Link\r\n                          className=\"btn btn-primary px-5 mr-3 create\"\r\n                          to=\"/chat\"\r\n                        >\r\n                          Chat\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </Paper>\r\n                  <br />\r\n                </div>\r\n              </section>\r\n            ) : (\r\n              <section>\r\n                <div className=\"footer\">\r\n                  <Paper className=\"jumbotron jumbotron-fluid py-5\">\r\n                    <div className=\"container text-center py-5\">\r\n                      <h1 className=\"display-4 welcome\">Welcome to MagHour</h1>\r\n                      <br />\r\n                      <p className=\"lead\">\r\n                        A great place to share your thoughts with friends\r\n                      </p>\r\n                      <br />\r\n                      <div className=\"mt-4 center\">\r\n                        <Link\r\n                          className=\"btn btn-primary px-5 mr-3 create\"\r\n                          to=\"/signup\"\r\n                        >\r\n                          Create New Account\r\n                        </Link>\r\n                        <br />\r\n                        <Link\r\n                          className=\"btn btn-secondary px-5 log center\"\r\n                          to=\"/login\"\r\n                        >\r\n                          Login to Your Account\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </Paper>\r\n                  <br />\r\n                </div>\r\n              </section>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state);\r\n\r\n  return {\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(HomePage);\r\n","import React, { Component } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./chat.css\";\r\n// import { RiDeleteBin6Line } from \"react-icons/ri\";\r\nimport moment from \"moment\";\r\nimport { deleteChat } from \"../../store/actions/chatActions\";\r\nimport ReactEmoji from \"react-emoji\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\n// import Button from \"@material-ui/core/Button\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport PopupState, { bindTrigger, bindPopover } from \"material-ui-popup-state\";\r\nimport { FiMoreVertical } from \"react-icons/fi\";\r\nimport { AiFillDelete } from \"react-icons/ai\";\r\n\r\nclass ChatSummary extends Component {\r\n  removeItem = () => {\r\n    const { chat } = this.props;\r\n    const { id } = chat;\r\n    return this.props.deleteChat(id);\r\n  };\r\n  render() {\r\n    const { chat, auth } = this.props;\r\n    return (\r\n      <Card\r\n        className={\r\n          \"chat-bubble \" + (auth.uid === chat.authorId ? \"current-user\" : \"\")\r\n        }\r\n        style={{ width: \"18rem\" }}\r\n      >\r\n        {/* {auth.uid === chat.authorId ? (\r\n          <div\r\n            className=\"cart-icon text-right text-danger\"\r\n            onClick={() => this.removeItem()}\r\n          >\r\n            <RiDeleteBin6Line />\r\n          </div>\r\n        ) : null} */}\r\n        {auth.uid === chat.authorId ? (\r\n          <PopupState variant=\"popover\" popupId=\"demo-popup-popover\">\r\n            {(popupState) => (\r\n              <div>\r\n                <div\r\n                  className=\"right\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  {...bindTrigger(popupState)}\r\n                >\r\n                  <FiMoreVertical />\r\n                </div>\r\n                <Popover\r\n                  {...bindPopover(popupState)}\r\n                  anchorOrigin={{\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"center\",\r\n                  }}\r\n                  transformOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"center\",\r\n                  }}\r\n                >\r\n                  <Box p={2}>\r\n                    <Typography>\r\n                      <div\r\n                        className=\"cart-icon text-right text-danger\"\r\n                        onClick={() => this.removeItem()}\r\n                        style={{ cursor: \"pointer\" }}\r\n                      >\r\n                        {/* <RiDeleteBin6Line /> */}\r\n                        <AiFillDelete /> Delete\r\n                      </div>\r\n                    </Typography>\r\n                  </Box>\r\n                </Popover>\r\n              </div>\r\n            )}\r\n          </PopupState>\r\n        ) : null}\r\n\r\n        <Card.Header className=\"text-center\">\r\n          <strong className=\"text-center\">{chat.authorUsername}</strong>\r\n          <br />\r\n          <strong className=\"text-center\">\r\n            {moment(chat.createdAt.toDate()).format(\"MMMM Do YYYY, h:mm a\")}\r\n          </strong>\r\n        </Card.Header>\r\n        <Card.Body className=\"text-center\">\r\n          <Card.Text>{ReactEmoji.emojify(chat.content)}</Card.Text>\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    deleteChat: (id) => dispatch(deleteChat(id)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(ChatSummary);\r\n","export const createChat = (chat) => {\r\n  return (dispatch, getState, { getFirebase }) => {\r\n    // make async call to database\r\n    const firestore = getFirebase().firestore();\r\n    const profile = getState().firebase.profile;\r\n    const authorId = getState().firebase.auth.uid;\r\n    const auth = getState().firebase.auth;\r\n    firestore\r\n      .collection(\"chats\")\r\n      .add({\r\n        content: chat.content,\r\n        authorUsername: profile.username,\r\n        authorFirstName: profile.firstName,\r\n        authorLastName: profile.lastName,\r\n        authorEmail: auth.email,\r\n        authorId: authorId,\r\n        createdAt: new Date(),\r\n      })\r\n      .then(() => {\r\n        dispatch({ type: \"CREATE_CHAT\" });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({ type: \"CREATE_CHAT_ERROR\", err });\r\n      });\r\n  };\r\n};\r\n\r\nexport const deleteChat = (id) => {\r\n  return (dispatch, getState, { getFirebase }) => {\r\n    const firestore = getFirebase().firestore();\r\n    firestore\r\n      .collection(\"chats\")\r\n      .doc(id)\r\n      .delete()\r\n      .then(() => {\r\n        dispatch({ type: \"DELETE_CHAT\" });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({ type: \"DELETE_CHAT_ERROR\", err });\r\n      });\r\n  };\r\n};\r\n\r\nexport const editChat = (id, chat) => {\r\n  return (dispatch, getState, { getFirebase }) => {\r\n    const firestore = getFirebase().firestore();\r\n    firestore\r\n      .collection(\"chats\")\r\n      .doc(id)\r\n      .update({\r\n        content: chat.content,\r\n        updatedAt: new Date(),\r\n      })\r\n      .then(() => {\r\n        dispatch({ type: \"EDIT_CHAT\" });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({ type: \"EDIT_CHAT_ERROR\", err });\r\n      });\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\nimport \"./chat.css\";\r\nimport ChatSummary from \"./ChatSummary\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { createChat } from \"../../store/actions/chatActions\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Chat extends Component {\r\n  state = {\r\n    content: \"\",\r\n    error: \"\",\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    const container = document.getElementById(\"chatview-container\");\r\n    if (container) {\r\n      container.scrollTo(0, container.scrollHeight);\r\n    }\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await this.props.createChat(this.state);\r\n      this.setState({\r\n        content: \"\",\r\n        error: \"\",\r\n      });\r\n    } catch (error) {\r\n      this.setState({ error: error.message });\r\n    }\r\n  };\r\n\r\n  // getUid(userid){\r\n  //   this.setState({uid: userid});\r\n  // }\r\n\r\n  render() {\r\n    const { chats, auth, profile } = this.props;\r\n    if (!auth.uid) return <Redirect to=\"/login\" />;\r\n    return (\r\n      <div>\r\n        <br />\r\n        <div className=\"container rounded-1\">\r\n          <ScrollToBottom className=\"messages\">\r\n            <div id=\"chatview-container\" className=\"chat-area\" ref={this.myRef}>\r\n              {chats &&\r\n                chats.map((chat, index) => {\r\n                  return (\r\n                    <div key={index}>\r\n                      <ChatSummary chat={chat} auth={auth} />\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          </ScrollToBottom>\r\n          <div className=\"text\">\r\n            <label htmlFor=\"text\">Chat Here!</label>\r\n            <form onSubmit={this.handleSubmit} className=\"mx-3\">\r\n              <textarea\r\n                className=\"form-control chat-bubble chat-form\"\r\n                name=\"content\"\r\n                onChange={this.handleChange}\r\n                value={this.state.content}\r\n                id=\"content\"\r\n              ></textarea>\r\n\r\n              {this.state.error ? (\r\n                <p className=\"text-danger\">{this.state.error}</p>\r\n              ) : null}\r\n              {this.state.content ? (\r\n                this.state.content !== \" \" ? (\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-submit px-5 mt-4 button chat-bubble\"\r\n                  >\r\n                    Send\r\n                  </button>\r\n                ) : null\r\n              ) : null}\r\n            </form>\r\n          </div>\r\n          <div className=\"py-5 mx-3 text\">\r\n            Logged in as:{\" \"}\r\n            <strong className=\"text-info\">{profile.username}</strong>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state);\r\n  const chats = state.firestore.ordered.chats;\r\n  return {\r\n    chats: chats,\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    createChat: (chat) => dispatch(createChat(chat)),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  firestoreConnect([{ collection: \"chats\", orderBy: [\"createdAt\", \"asc\"] }])\r\n)(Chat);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signUp } from \"../../store/actions/authActions\";\r\nimport \"./signup.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Paper } from \"@material-ui/core\";\r\n\r\nclass SignUp extends Component {\r\n  state = {\r\n    error: null,\r\n    email: \"\",\r\n    password: \"\",\r\n    userName: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    confirmPassword: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (this.props.signUpError) {\r\n      this.setState({\r\n        error: this.props.signUpError,\r\n      });\r\n    }\r\n    if (this.state.confirmPassword !== this.state.password) {\r\n      const err = \"Passwords do not match\";\r\n      this.setState({\r\n        error: err,\r\n      });\r\n    } else if (this.state.userName === \"\") {\r\n      const err = \"Username is required\";\r\n      this.setState({\r\n        error: err,\r\n      });\r\n    } else if (this.state.firstName === \"\") {\r\n      const err = \"Firstname is required\";\r\n      this.setState({\r\n        error: err,\r\n      });\r\n    } else if (this.state.lastName === \"\") {\r\n      const err = \"Lastname is required\";\r\n      this.setState({\r\n        error: err,\r\n      });\r\n    } else {\r\n      try {\r\n        this.props.signUp(this.state);\r\n      } catch (error) {\r\n        this.setState({ error: error.message });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { auth } = this.props;\r\n    if (auth.uid) return <Redirect to=\"/\" />;\r\n    return (\r\n      <div>\r\n        <br />\r\n        <br />\r\n        <div className=\"jumbotron-codelines text-center center text-dark\">\r\n          <div className=\"mx-auto magin\">\r\n            <Paper className=\"py-4 px-4 px-md-3 px-lg-4\">\r\n              <form\r\n                className=\"mt-5 py-5 px-5 home-hero-signup text-gray-dark js-signup-form js-signup-form-submit\"\r\n                autoComplete=\"off\"\r\n                action=\"/join\"\r\n                method=\"post\"\r\n                acceptCharset=\"UTF-8\"\r\n              >\r\n                <h1>\r\n                  <div className=\"title\">Sign Up to </div>\r\n                  <Link className=\"title ml-2\" to=\"/\">\r\n                    MagHour\r\n                  </Link>\r\n                </h1>\r\n                <br />\r\n                <div className=\"mt-0\">\r\n                  <label className=\"form-label h6\" htmlFor=\"userName\">\r\n                    Username\r\n                  </label>\r\n                  <input\r\n                    required\r\n                    autoFocus\r\n                    type=\"text\"\r\n                    name=\"userName\"\r\n                    id=\"userName\"\r\n                    className=\"form-control form-control-lg input-block\"\r\n                    autocomplete=\"off\"\r\n                    spellCheck=\"true\"\r\n                    onChange={this.handleChange}\r\n                    aria-describedby=\"input-check-3834 \"\r\n                    value={this.state.userName}\r\n                  />\r\n                </div>\r\n                <div className=\"mt-0\">\r\n                  <label className=\"form-label h6\" htmlFor=\"firstName\">\r\n                    First Name\r\n                  </label>\r\n                  <input\r\n                    required\r\n                    type=\"text\"\r\n                    name=\"firstName\"\r\n                    id=\"firstName\"\r\n                    className=\"form-control form-control-lg input-block\"\r\n                    autocomplete=\"off\"\r\n                    spellCheck=\"true\"\r\n                    onChange={this.handleChange}\r\n                    aria-describedby=\"input-check-3834 \"\r\n                    value={this.state.firstName}\r\n                  />\r\n                </div>\r\n                <div className=\"mt-0\">\r\n                  <label className=\"form-label h6\" htmlFor=\"lastName\">\r\n                    Last Name\r\n                  </label>\r\n                  <input\r\n                    required\r\n                    type=\"text\"\r\n                    name=\"lastName\"\r\n                    id=\"lastName\"\r\n                    className=\"form-control form-control-lg input-block\"\r\n                    autocomplete=\"off\"\r\n                    spellCheck=\"true\"\r\n                    onChange={this.handleChange}\r\n                    aria-describedby=\"input-check-3834 \"\r\n                    value={this.state.lastName}\r\n                  />\r\n                </div>\r\n                <div className=\"mt-0\">\r\n                  <label className=\"form-label h6\" htmlFor=\"email\">\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    required\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    id=\"email\"\r\n                    className=\"form-control form-control-lg input-block\"\r\n                    autocomplete=\"off\"\r\n                    spellCheck=\"true\"\r\n                    onChange={this.handleChange}\r\n                    aria-describedby=\"input-check-3834 \"\r\n                    value={this.state.email}\r\n                  />\r\n                </div>\r\n                <div className=\"mt-0\">\r\n                  <label className=\"form-label h6\" htmlFor=\"password\">\r\n                    Password\r\n                  </label>\r\n                  <input\r\n                    required\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    className=\"form-control form-control-lg input-block\"\r\n                    autocomplete=\"off\"\r\n                    spellCheck=\"true\"\r\n                    onChange={this.handleChange}\r\n                    aria-describedby=\"input-check-3834 \"\r\n                    value={this.state.password}\r\n                  />\r\n                </div>\r\n                <div className=\"mt-0\">\r\n                  <label className=\"form-label h6\" htmlFor=\"confirmPassword\">\r\n                    Confirm Password\r\n                  </label>\r\n                  <input\r\n                    required\r\n                    type=\"password\"\r\n                    name=\"confirmPassword\"\r\n                    id=\"confirmPassword\"\r\n                    className=\"form-control form-control-lg input-block\"\r\n                    autocomplete=\"off\"\r\n                    spellCheck=\"true\"\r\n                    onChange={this.handleChange}\r\n                    aria-describedby=\"input-check-3834 \"\r\n                    value={this.state.confirmPassword}\r\n                  />\r\n                </div>\r\n                <div className=\"mt-0\">\r\n                  {this.state.error ? (\r\n                    <div>\r\n                      <p className=\"text-danger\">{this.state.error}</p>\r\n                    </div>\r\n                  ) : null}\r\n\r\n                  {/* {this.props.signUpError ? (\r\n                    <div>\r\n                      <p className=\"text-danger\">{this.props.signUpError}</p>\r\n                    </div>\r\n                  ) : null} */}\r\n                </div>\r\n                <div className=\"\">\r\n                  <button\r\n                    className=\"btn btn-primary px-5\"\r\n                    type=\"submit\"\r\n                    onClick={this.handleSubmit}\r\n                  >\r\n                    Signup\r\n                  </button>\r\n                  <hr />\r\n                  <p className=\"already text-dark\">\r\n                    Have an account?{\" \"}\r\n                    <Link className=\"move text-dark\" to=\"/login\">\r\n                      Login\r\n                    </Link>\r\n                  </p>\r\n                </div>\r\n              </form>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"py-6 py-sm-8 jumbotron-codelines\">\r\n          <div className=\"p-responsive position-relative container-lg\">\r\n            <div className=\"d-md-flex flex-items-center gutter-md-spacious\">\r\n              <div className=\"col-md-7 text-center text-md-left \">\r\n                <h1 className=\"h000-mktg text-white lh-condensed-ultra mb-3\">\r\n                  Built by children for children\r\n                </h1>\r\n                <p class=\"lead-mktg mb-4\">\r\n                  MagHour is a website that children can talk with other people.\r\n                </p>\r\n              </div>\r\n              <div class=\"mx-auto col-sm-8 col-md-6\">\r\n                <Paper className=\"py-4 px-4 px-md-3 px-lg-4\">\r\n                  \r\n                </Paper>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    signUpError: state.auth.signUpError,\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signUp: (newUser) => dispatch(signUp(newUser)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n","export const signIn = (credentials) => {\r\n  return (dispatch, getState, { getFirebase }) => {\r\n    const firebase = getFirebase();\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(credentials.email, credentials.password)\r\n      .then(() => {\r\n        dispatch({ type: \"LOGIN_SUCCESS\" });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({ type: \"LOGIN_ERROR\", err });\r\n      });\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return (dispatch, getState, { getFirebase }) => {\r\n    const firebase = getFirebase();\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        dispatch({ type: \"SIGNOUT_SUCCESS\" });\r\n      });\r\n  };\r\n};\r\n\r\nexport const signUp = (newUser) => {\r\n  return (dispatch, getState, { getFirebase }) => {\r\n    const firestore = getFirebase().firestore();\r\n    const firebase = getFirebase();\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(newUser.email, newUser.password)\r\n      .then((resp) => {\r\n        return firestore.collection(\"users\").doc(resp.user.uid).set({\r\n          firstName: newUser.firstName,\r\n          lastName: newUser.lastName,\r\n          initials: newUser.userName[0],\r\n          username: newUser.userName,\r\n          email: newUser.email,\r\n        });\r\n      })\r\n      .then(() => {\r\n        dispatch({ type: \"SIGNUP_SUCCESS\" });\r\n      })\r\n      .catch((err) => {\r\n        dispatch({ type: \"SIGNUP_ERROR\", err });\r\n      });\r\n  };\r\n};\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nvar config = {\r\n  apiKey: \"AIzaSyAdL9cx-B7e-ALymPhHM3CrnrBXxmuK_Uo\",\r\n  authDomain: \"mag-hour.firebaseapp.com\",\r\n  databaseURL: \"https://mag-hour.firebaseio.com\",\r\n  projectId: \"mag-hour\",\r\n  storageBucket: \"mag-hour.appspot.com\",\r\n  messagingSenderId: \"177218748401\",\r\n  appId: \"1:177218748401:web:07c7ff72636a29ee580e50\",\r\n  measurementId: \"G-LJJBNCXL5T\",\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(config);\r\n// firebase.firestore;\r\n\r\nexport default firebase;\r\n\r\nexport const auth = firebase.auth;\r\nexport const fs = firebase.firestore();\r\n","import { auth } from \"../services/firebase\";\r\n\r\nexport function signup(email, password) {\r\n  return auth().createUserWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signin(email, password) {\r\n  return auth().signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signInWithGoogle() {\r\n  const provider = new auth.GoogleAuthProvider();\r\n  return auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function signInWithGitHub() {\r\n  const provider = new auth.GithubAuthProvider();\r\n  return auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function logout() {\r\n  return auth().signOut();\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { signInWithGoogle, signInWithGitHub } from \"../../helpers/auth\";\r\nimport { signIn } from \"../../store/actions/authActions\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"./signin.css\";\r\nimport { Paper } from \"@material-ui/core\";\r\n// import smile from \"../../img/chatting.png\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    error: null,\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  };\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (this.state.password === \"\" || this.state.email === \"\") {\r\n      const err = \"Login failed\";\r\n      this.setState({\r\n        error: err,\r\n      });\r\n    }\r\n    try {\r\n      await this.props.signIn(this.state);\r\n    } catch (error) {\r\n      this.setState({ error: error.message });\r\n    }\r\n  };\r\n\r\n  googleSignIn = async () => {\r\n    try {\r\n      await signInWithGoogle();\r\n    } catch (error) {\r\n      this.setState({ error: error.message });\r\n    }\r\n  };\r\n\r\n  githubSignIn = async () => {\r\n    try {\r\n      await signInWithGitHub();\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.setState({ error: error.message });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { auth } = this.props;\r\n    if (auth.uid) return <Redirect to=\"/\" />;\r\n    return (\r\n      <div>\r\n        <br />\r\n        <br />\r\n        <div className=\"jumbotron-codelines text-center center text-dark\">\r\n          <div className=\"mx-auto magin\">\r\n            <Paper className=\"py-4 px-4 px-md-3 px-lg-4\">\r\n              <form\r\n                className=\"mt-5 py-5 px-5 home-hero-signup text-gray-dark js-signup-form js-signup-form-submit\"\r\n                onSubmit={this.handleSubmit}\r\n              >\r\n                <h1>\r\n                  <div className=\"title\">Sign In to </div>\r\n                  <Link className=\"title ml-2\" to=\"/\">\r\n                    MagHour\r\n                  </Link>\r\n                </h1>\r\n                <br />\r\n                <div className=\"mt-0\">\r\n                  <label className=\"form-label h6\" htmlFor=\"email\">\r\n                    Email\r\n                  </label>\r\n                  <input\r\n                    autoFocus\r\n                    // required\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    id=\"email\"\r\n                    className=\"form-control form-control-lg input-block\"\r\n                    aria-autocomplete=\"none\"\r\n                    onChange={this.handleChange}\r\n                    spellCheck=\"true\"\r\n                    aria-describedby=\"input-check-3834 \"\r\n                  />\r\n                </div>\r\n                <div className=\"mt-0\">\r\n                  <label className=\"form-label h6\" htmlFor=\"password\">\r\n                    Password\r\n                  </label>\r\n                  <input\r\n                    // required\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    className=\"form-control form-control-lg input-block\"\r\n                    aria-autocomplete=\"none\"\r\n                    spellCheck=\"true\"\r\n                    onChange={this.handleChange}\r\n                    aria-describedby=\"input-check-3834 \"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mt-0\">\r\n                  {/* {this.state.error ? (\r\n                    <div>\r\n                      <p className=\"text-danger\">{this.state.error}</p>\r\n                    </div>\r\n                  ) : null} */}\r\n                  {this.props.signInError ? (\r\n                    <div>\r\n                      <p className=\"text-danger\">{this.props.signInError}</p>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n                <div className=\"mt-0\">\r\n                  <button className=\"btn btn-primary px-5\" type=\"submit\">\r\n                    Sign up\r\n                  </button>\r\n                </div>\r\n                {/* <hr></hr>\r\n                <p className=\"also\">\r\n                  You can also sign up with any of these services\r\n                </p>\r\n                <div className=\"another-google\">\r\n                  <button\r\n                    className=\"btn btn-danger mr-2 google\"\r\n                    type=\"button\"\r\n                    onClick={this.googleSignIn}\r\n                  >\r\n                    Sign up with Google\r\n                  </button>\r\n                </div>\r\n                <div className=\"another-github\">\r\n                  <button\r\n                    className=\"btn btn-secondary github\"\r\n                    type=\"button\"\r\n                    onClick={this.githubSignIn}\r\n                  >\r\n                    Sign up with GitHub\r\n                  </button>\r\n                </div> */}\r\n                <hr />\r\n                <p className=\"already text-dark\">\r\n                  Don't have an account?{\" \"}\r\n                  <Link className=\"move text-dark\" to=\"/signup\">\r\n                    Signup\r\n                  </Link>\r\n                </p>\r\n              </form>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    signInError: state.auth.signInError,\r\n    auth: state.firebase.auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signIn: (creds) => dispatch(signIn(creds)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport logo from \"../starter.png\";\r\nimport { signOut } from \"../store/actions/authActions\";\r\nimport { Nav, Navbar } from \"react-bootstrap\";\r\n\r\nimport \"./nav.css\";\r\n\r\nconst Header = (props) => {\r\n  const { auth, profile, signOut } = props;\r\n  console.log(profile);\r\n  return (\r\n    <header className=\"long high\">\r\n      <div>\r\n        <div bg=\"black\">\r\n          <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" fixed=\"top\">\r\n            <Navbar.Brand href=\"/\">\r\n              <img src={logo} alt=\"maghour\" length=\"60px\" width=\"60px\" />\r\n              MagHour\r\n            </Navbar.Brand>\r\n            <Navbar.Toggle\r\n              aria-controls=\"basic-navbar-nav\"\r\n              bg=\"dark\"\r\n              variant=\"dark\"\r\n            />\r\n            <Navbar.Collapse bg=\"primary\" id=\"basic-navbar-nav\">\r\n              {auth.uid ? (\r\n                <Nav activeKey=\"/home\">\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      className=\"text-info\"\r\n                      href=\"/chat\"\r\n                      eventKey=\"/chat\"\r\n                    >\r\n                      Message\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      className=\"text-info\"\r\n                      href=\"/chat\"\r\n                      eventKey=\"/chat\"\r\n                    >\r\n                      Class\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      className=\"text-info\"\r\n                      href=\"/chat\"\r\n                      eventKey=\"/chat\"\r\n                    >\r\n                      School\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      className=\"text-info\"\r\n                      href=\"/private-chat\"\r\n                      eventKey=\"/private-chat\"\r\n                    >\r\n                      Private\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      className=\"text-info\"\r\n                      href=\"/profile\"\r\n                      eventKey=\"/profile\"\r\n                    >\r\n                      Profile\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n\r\n                  <Nav.Item onClick={() => signOut()}>\r\n                    <Nav.Link className=\"text-info\">Logout</Nav.Link>\r\n                  </Nav.Item>\r\n                </Nav>\r\n              ) : (\r\n                <Nav activeKey=\"/home\">\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      className=\"text-info\"\r\n                      href=\"/login\"\r\n                      eventKey=\"/login\"\r\n                    >\r\n                      Signin\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      className=\"text-info\"\r\n                      href=\"/signup\"\r\n                      eventKey=\"/signup\"\r\n                    >\r\n                      Signup\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      className=\"text-info\"\r\n                      href=\"/about\"\r\n                      eventKey=\"/about\"\r\n                    >\r\n                      About\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                </Nav>\r\n              )}\r\n            </Navbar.Collapse>\r\n            {/* <Form inline>\r\n            <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\r\n            <Button variant=\"outline-info\">Search</Button>\r\n          </Form> */}\r\n          </Navbar>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state);\r\n\r\n  return {\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signOut: () => dispatch(signOut()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"pt-5\">\r\n      <div className=\"container text-center\">\r\n        <p>&copy;MagHour2020.</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { Component } from \"react\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./about.css\";\r\n\r\nexport default class About extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"home\">\r\n        <Header></Header>\r\n        <section>\r\n          <div className=\"footer\">\r\n            <div className=\"jumbotron jumbotron-fluid py-5\">\r\n              <div className=\"container text-center py-5\">\r\n                <br />\r\n                <h5>\r\n                  <Link\r\n                    className=\"btn btn-primary px-5 mr-3 create\"\r\n                    to=\"/signup\"\r\n                  >\r\n                    Imformation for schools\r\n                  </Link>\r\n                  <br />\r\n                  <Link\r\n                    className=\"btn btn-primary px-5 mr-3 create\"\r\n                    to=\"/signup\"\r\n                  >\r\n                    Imformation for parents\r\n                  </Link>\r\n                  <br />\r\n                  <Link\r\n                    className=\"btn btn-primary px-5 mr-3 create\"\r\n                    to=\"/signup\"\r\n                  >\r\n                    Imformation for Children\r\n                  </Link>\r\n                </h5>\r\n                <h1 className=\"display-4 welcome\">about</h1>\r\n                <p className=\"lead\">\r\n                  A great place to share your thoughts with friends\r\n                </p>\r\n                <br />\r\n                {/* <div className=\"mt-4\">\r\n                  <Link\r\n                    className=\"btn btn-primary px-5 mr-3 create\"\r\n                    to=\"/signup\"\r\n                  >\r\n                    Create New Account\r\n                  </Link>\r\n\r\n                  <Link className=\"btn px-5 log\" to=\"/login\">\r\n                    Login to Your Account\r\n                  </Link>\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n            <br />\r\n            <div className=\"foot\">\r\n              <Footer></Footer>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const styles = (theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    height: \"calc(95% - 35px)\",\r\n    position: \"absolute\",\r\n    left: \"0\",\r\n    width: \"300px\",\r\n    boxShadow: \"0px 0px 2px black\",\r\n  },\r\n  listItem: {\r\n    cursor: \"pointer\",\r\n  },\r\n  newChatBtn: {\r\n    borderRadius: \"100%\",\r\n    width: \"60px\",\r\n    height: \"60px\",\r\n    position: \"absolute\",\r\n    bottom: \"0\",\r\n    right: \"50%\",\r\n    transform: \"translate(50%, -20%)\",\r\n  },\r\n  unreadMessage: {\r\n    color: \"red\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    right: \"5px\",\r\n  },\r\n});\r\n\r\nexport default styles;\r\n","import React, { Component } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport styles from \"./styles\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport NotificationImportant from \"@material-ui/icons/NotificationImportant\";\r\n\r\nclass ChatList extends Component {\r\n  newChat = () => {\r\n    this.props.newChatBtnFn();\r\n  };\r\n  selectChat = (index) => {\r\n    this.props.selectChatFn(index);\r\n  };\r\n  userIsSender = (chat) =>\r\n    chat.messages[chat.messages.length - 1].sender === this.props.userName;\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <main className={classes.root}>\r\n          <List>\r\n            {this.props.chats &&\r\n              this.props.chats.map((chat, index) => {\r\n                return (\r\n                  <div key={index}>\r\n                    <ListItem\r\n                      onClick={() => this.selectChat(index)}\r\n                      className={classes.listItem}\r\n                      selected={this.props.selectedChatIndex === index}\r\n                      alignItems=\"flex-start\"\r\n                    >\r\n                      <ListItemAvatar>\r\n                        <Avatar alt=\"Remy\">\r\n                          {chat.users\r\n                            .filter((user) => user !== this.props.userEmail)[0]\r\n                            .split(\"\")[0]\r\n                            .toUpperCase()}\r\n                        </Avatar>\r\n                      </ListItemAvatar>\r\n                      <ListItemText\r\n                        primary={\r\n                          chat.users.filter(\r\n                            (user) => user !== this.props.userEmail\r\n                          )[0]\r\n                        }\r\n                        secondary={\r\n                          <React.Fragment>\r\n                            <Typography component=\"span\" color=\"textPrimary\">\r\n                              {chat.messages[\r\n                                chat.messages.length - 1\r\n                              ].message.substring(0, 30)}\r\n                            </Typography>\r\n                          </React.Fragment>\r\n                        }\r\n                      ></ListItemText>\r\n                      {chat.receiverHasRead === false &&\r\n                      !this.userIsSender(chat) ? (\r\n                        <ListItemIcon>\r\n                          <NotificationImportant\r\n                            className={classes.unreadMessage}\r\n                          ></NotificationImportant>\r\n                        </ListItemIcon>\r\n                      ) : null}\r\n                    </ListItem>\r\n                    <Divider></Divider>\r\n                  </div>\r\n                );\r\n              })}\r\n          </List>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.newChatBtn}\r\n            onClick={this.newChat}\r\n          >\r\n            +\r\n          </Button>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ChatList);\r\n","// const styles = (theme) => ({\r\n//   content: {\r\n//     height: \"calc(900vh - 100px)\",\r\n//     overflow: \"auto\",\r\n//     padding: \"25px\",\r\n//     marginLeft: \"300px\",\r\n//     boxSizing: \"border-box\",\r\n//     overflowY: \"scroll\",\r\n//     top: \"50px\",\r\n//     width: \"calc(100% - 300px)\",\r\n//     position: \"absolute\",\r\n//   },\r\n\r\n//   userSent: {\r\n//     float: \"right\",\r\n//     clear: \"both\",\r\n//     padding: \"20px\",\r\n//     boxSizing: \"border-box\",\r\n//     wordWrap: \"break-word\",\r\n//     marginTop: \"10px\",\r\n//     backgroundColor: \"#3cb371\",\r\n//     color: \"white\",\r\n//     width: \"140px\",\r\n//     borderRadius: \"10px\",\r\n//     textAlign: \"right\",\r\n//   },\r\n\r\n//   friendSent: {\r\n//     float: \"left\",\r\n//     clear: \"both\",\r\n//     padding: \"20px\",\r\n//     boxSizing: \"border-box\",\r\n//     wordWrap: \"break-word\",\r\n//     marginTop: \"10px\",\r\n//     backgroundColor: \"#707BC4\",\r\n//     color: \"white\",\r\n//     width: \"140px\",\r\n//     borderRadius: \"10px\",\r\n//     textAlign: \"left\",\r\n//   },\r\n\r\n//   chatHeader: {\r\n//     width: \"calc(100% - 301px)\",\r\n//     height: \"50px\",\r\n//     backgroundColor: \"#344195\",\r\n//     position: \"fixed\",\r\n//     marginLeft: \"301px\",\r\n//     fontSize: \"18px\",\r\n//     color: \"white\",\r\n//     paddingTop: \"10px\",\r\n//     boxSizing: \"border-box\",\r\n//     textAlign: \"center\",\r\n//   },\r\n// });\r\n\r\n// export default styles;\r\n\r\nconst styles = (theme) => ({\r\n  content: {\r\n    height: \"calc(75vh - 100px)\",\r\n    overflow: \"auto\",\r\n    padding: \"25px\",\r\n    marginLeft: \"300px\",\r\n    boxSizing: \"border-box\",\r\n    overflowY: \"scroll\",\r\n    top: \"170px\",\r\n    width: \"calc(100% - 300px)\",\r\n    position: \"absolute\",\r\n  },\r\n\r\n  userSent: {\r\n    float: \"right\",\r\n    clear: \"both\",\r\n    padding: \"20px\",\r\n    boxSizing: \"border-box\",\r\n    wordWrap: \"break-word\",\r\n    marginTop: \"10px\",\r\n    backgroundColor: \"#3cb371\",\r\n    color: \"white\",\r\n    width: \"140px\",\r\n    borderRadius: \"10px\",\r\n    textAlign: \"right\",\r\n  },\r\n\r\n  friendSent: {\r\n    float: \"left\",\r\n    clear: \"both\",\r\n    padding: \"20px\",\r\n    boxSizing: \"border-box\",\r\n    wordWrap: \"break-word\",\r\n    marginTop: \"10px\",\r\n    backgroundColor: \"#707BC4\",\r\n    color: \"white\",\r\n    width: \"140px\",\r\n    borderRadius: \"10px\",\r\n    textAlign: \"left\",\r\n  },\r\n\r\n  chatHeader: {\r\n    width: \"calc(100% - 301px)\",\r\n    height: \"100px\",\r\n    backgroundColor: \"#344195\",\r\n    position: \"fixed\",\r\n    marginLeft: \"301px\",\r\n    fontSize: \"18px\",\r\n    color: \"white\",\r\n    paddingTop: \"10px\",\r\n    boxSizing: \"border-box\",\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nexport default styles;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./styles\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nclass ChatView extends Component {\r\n  componentDidUpdate = () => {\r\n    const container = document.getElementById(\"chatview-container\");\r\n    if (container) {\r\n      container.scrollTo(0, container.scrollHeight);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, chat, user } = this.props;\r\n    if (chat === undefined) {\r\n      return <main id=\"chatview-container\" className={classes.content}></main>;\r\n    } else {\r\n      return (\r\n        <div>\r\n          <div className={classes.chatHeader}>\r\n            Your conversation with{\" \"}\r\n            {chat.users.filter((user) => user !== this.props.userEmail)[0]}\r\n          </div>\r\n\r\n          <main id=\"chatview-container\" className={classes.content}>\r\n            {chat.messages.map((msg, index) => {\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className={\r\n                    msg.sender === user ? classes.userSent : classes.friendSent\r\n                  }\r\n                >\r\n                  {msg.sender}\r\n                  <hr />\r\n                  {msg.message}\r\n                </div>\r\n              );\r\n            })}\r\n          </main>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ChatView);\r\n","const styles = (theme) => ({\r\n  sendBtn: {\r\n    color: \"black\",\r\n    cursor: \"pointer\",\r\n    \"&:hover\": {\r\n      color: \"gray\",\r\n    },\r\n  },\r\n\r\n  chatTextBoxContainer: {\r\n    position: \"absolute\",\r\n    bottom: \"15px\",\r\n    left: \"315px\",\r\n    boxSizing: \"border-box\",\r\n    overflow: \"auto\",\r\n    width: \"calc(100% - 300px - 50px)\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  chatTextBox: {\r\n    width: \"calc(100% - 25px)\",\r\n    border: \"none\",\r\n    outline: \"none\",\r\n    borderRadius: \"10px\",\r\n  },\r\n});\r\n\r\nexport default styles;\r\n","import React, { Component } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Send from \"@material-ui/icons/Send\";\r\nimport styles from \"./styles\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nclass ChatTextBox extends Component {\r\n  state = {\r\n    chatText: \"\",\r\n  };\r\n  userTyping = (e) => {\r\n    e.keyCode === 13\r\n      ? this.handleSubmit()\r\n      : this.setState({ chatText: e.target.value });\r\n  };\r\n  messageValid = (txt) => txt && txt.replace(/\\s/g, \"\").length;\r\n  userClickedInput = () => this.props.messageReadFn();\r\n  handleSubmit = (e) => {\r\n    if (this.messageValid(this.state.chatText)) {\r\n      this.props.submitFn(this.state.chatText);\r\n      document.getElementById(\"chattextbox\").value = \"\";\r\n    }\r\n  };\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className={classes.chatTextBoxContainer}>\r\n        <TextField\r\n          placeholder=\"Type your message...\"\r\n          onKeyUp={(e) => this.userTyping(e)}\r\n          id=\"chattextbox\"\r\n          className={classes.chatTextBox}\r\n          onFocus={this.userClickedInput}\r\n        ></TextField>\r\n        <Send className={classes.sendBtn} onClick={this.handleSubmit}></Send>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ChatTextBox);\r\n","const styles = (theme) => ({\r\n  main: {\r\n    width: \"auto\",\r\n    display: \"block\", // Fix IE 11 issue.\r\n    marginLeft: theme.spacing() * 3,\r\n    marginRight: theme.spacing() * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing() * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  paper: {\r\n    padding: `${theme.spacing() * 2}px ${theme.spacing() * 3}px ${\r\n      theme.spacing() * 3\r\n    }px`,\r\n    position: \"absolute\",\r\n    zIndex: \"0\",\r\n    width: \"350px\",\r\n    top: \"50px\",\r\n    left: \"calc(50% + 150px - 175px)\",\r\n  },\r\n  input: {},\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(),\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing() * 3,\r\n  },\r\n  errorText: {\r\n    color: \"red\",\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nexport default styles;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  FormControl,\r\n  InputLabel,\r\n  Input,\r\n  Button,\r\n  Paper,\r\n  withStyles,\r\n  CssBaseline,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport styles from \"./styles\";\r\nimport firebase from \"../../../../services/firebase\";\r\n\r\nclass NewChat extends Component {\r\n  state = {\r\n    username: null,\r\n    message: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (!firebase.auth().currentUser) this.props.history.push(\"/login\");\r\n  }\r\n\r\n  userTyping = (inputType, e) => {\r\n    switch (inputType) {\r\n      case \"username\":\r\n        this.setState({ username: e.target.value });\r\n        break;\r\n\r\n      case \"message\":\r\n        this.setState({ message: e.target.value });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  submitNewChat = async (e) => {\r\n    e.preventDefault();\r\n    const userExists = await this.userExists();\r\n    if (userExists) {\r\n      const chatExists = await this.chatExists();\r\n      chatExists ? this.goToChat() : this.createChat();\r\n    }\r\n  };\r\n\r\n  buildDocKey = () =>\r\n    [firebase.auth().currentUser.email, this.state.username].sort().join(\";\");\r\n\r\n  createChat = () => {\r\n    this.props.newChatSubmitFn({\r\n      sendTo: this.state.username,\r\n      message: this.state.message,\r\n    });\r\n  };\r\n\r\n  goToChat = () =>\r\n    this.props.goToChatFn(this.buildDocKey(), this.state.message);\r\n\r\n  chatExists = async () => {\r\n    const docKey = this.buildDocKey();\r\n    const chat = await firebase\r\n      .firestore()\r\n      .collection(\"privateChats\")\r\n      .doc(docKey)\r\n      .get();\r\n    console.log(chat.exists);\r\n    return chat.exists;\r\n  };\r\n  userExists = async () => {\r\n    const usersSnapshot = await firebase.firestore().collection(\"users\").get();\r\n    const exists = usersSnapshot.docs\r\n      .map((_doc) => _doc.data().email)\r\n      .includes(this.state.username);\r\n    this.setState({ serverError: !exists });\r\n    return exists;\r\n  };\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className=\"footer\">\r\n        <main className={classes.main}>\r\n          <CssBaseline />\r\n          <Paper className={classes.paper}>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Send A Message!\r\n            </Typography>\r\n            <form\r\n              className={classes.form}\r\n              onSubmit={(e) => this.submitNewChat(e)}\r\n            >\r\n              <FormControl fullWidth>\r\n                <InputLabel htmlFor=\"new-chat-username\">\r\n                  Enter Your Friend's Email\r\n                </InputLabel>\r\n                <Input\r\n                  required\r\n                  className={classes.input}\r\n                  autoFocus\r\n                  onChange={(e) => this.userTyping(\"username\", e)}\r\n                  id=\"new-chat-username\"\r\n                ></Input>\r\n              </FormControl>\r\n              <FormControl fullWidth>\r\n                <InputLabel htmlFor=\"new-chat-message\">\r\n                  Enter Your Message\r\n                </InputLabel>\r\n                <Input\r\n                  required\r\n                  className={classes.input}\r\n                  onChange={(e) => this.userTyping(\"message\", e)}\r\n                  id=\"new-chat-message\"\r\n                ></Input>\r\n              </FormControl>\r\n              <Button\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                type=\"submit\"\r\n              >\r\n                Send\r\n              </Button>\r\n            </form>\r\n            {this.state.serverError ? (\r\n              <Typography\r\n                component=\"h5\"\r\n                variant=\"h6\"\r\n                className={classes.errorText}\r\n              >\r\n                Unable to locate the user\r\n              </Typography>\r\n            ) : null}\r\n          </Paper>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(NewChat);\r\n","import React, { Component } from \"react\";\r\nimport ChatList from \"./ChatList/ChatList\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport firebase from \"../../../services/firebase\";\r\nimport \"./private.css\";\r\nimport ChatView from \"./ChatView/ChatView\";\r\nimport ChatTextBox from \"./ChatTextBox/ChatTextBox\";\r\nimport NewChat from \"./NewChat/NewChat\";\r\n\r\nclass PrivateChat extends Component {\r\n  state = {\r\n    selectedChat: null,\r\n    newChatFormVisible: false,\r\n    email: this.props.auth.email,\r\n    userName: null,\r\n    chats: [],\r\n  };\r\n  submitMessage = (msg) => {\r\n    const docKey = this.buildDocKey(\r\n      this.state.chats[this.state.selectedChat].users.filter(\r\n        (_usr) => _usr !== this.state.email\r\n      )[0]\r\n    );\r\n    firebase\r\n      .firestore()\r\n      .collection(\"privateChats\")\r\n      .doc(docKey)\r\n      .update({\r\n        messages: firebase.firestore.FieldValue.arrayUnion({\r\n          sender: this.state.email,\r\n          message: msg,\r\n          timestamp: Date.now(),\r\n        }),\r\n        receiverHasRead: false,\r\n      });\r\n  };\r\n\r\n  // Always in alphabetical order:\r\n  // 'user1:user2'\r\n  buildDocKey = (friend) => [this.state.email, friend].sort().join(\";\");\r\n\r\n  newChatBtnClicked = () =>\r\n    this.setState({ newChatFormVisible: true, selectedChat: null });\r\n\r\n  newChatSubmit = async (chatObj) => {\r\n    const docKey = this.buildDocKey(chatObj.sendTo);\r\n    await firebase\r\n      .firestore()\r\n      .collection(\"privateChats\")\r\n      .doc(docKey)\r\n      .set({\r\n        messages: [\r\n          {\r\n            message: chatObj.message,\r\n            sender: this.state.email,\r\n          },\r\n        ],\r\n        users: [this.state.email, chatObj.sendTo],\r\n        receiverHasRead: false,\r\n      });\r\n    this.setState({ newChatFormVisible: false });\r\n    this.selectChat(this.state.chats.length - 1);\r\n  };\r\n\r\n  selectChat = async (chatIndex) => {\r\n    await this.setState({ selectedChat: chatIndex, newChatFormVisible: false });\r\n    this.messageRead();\r\n  };\r\n\r\n  goToChat = async (docKey, msg) => {\r\n    const usersInChat = docKey.split(\";\");\r\n    const chat = this.state.chats.find((_chat) =>\r\n      usersInChat.every((_user) => _chat.users.includes(_user))\r\n    );\r\n    this.setState({ newChatFormVisible: false });\r\n    await this.selectChat(this.state.chats.indexOf(chat));\r\n    this.submitMessage(msg);\r\n  };\r\n\r\n  // Chat index could be different than the one we are currently on in the case\r\n  // that we are calling this function from within a loop such as the chatList.\r\n  // So we will set a default value and can overwrite it when necessary.\r\n  messageRead = () => {\r\n    const chatIndex = this.state.selectedChat;\r\n    const docKey = this.buildDocKey(\r\n      this.state.chats[chatIndex].users.filter(\r\n        (_usr) => _usr !== this.state.email\r\n      )[0]\r\n    );\r\n    if (this.clickedMessageWhereNotSender(chatIndex)) {\r\n      firebase\r\n        .firestore()\r\n        .collection(\"privateChats\")\r\n        .doc(docKey)\r\n        .update({ receiverHasRead: true });\r\n    } else {\r\n      console.log(\"Clicked message where the user was the sender\");\r\n    }\r\n  };\r\n\r\n  clickedMessageWhereNotSender = (chatIndex) =>\r\n    this.state.chats[chatIndex].messages[\r\n      this.state.chats[chatIndex].messages.length - 1\r\n    ].sender !== this.state.email;\r\n\r\n  componentWillMount = () => {\r\n    firebase.auth().onAuthStateChanged(async (_usr) => {\r\n      if (!_usr) this.props.history.push(\"/login\");\r\n      else {\r\n        await firebase\r\n          .firestore()\r\n          .collection(\"privateChats\")\r\n          .where(\"users\", \"array-contains\", _usr.email)\r\n          .onSnapshot(async (res) => {\r\n            const chats = res.docs.map((_doc) => _doc.data());\r\n            await this.setState({\r\n              email: _usr.email,\r\n              chats: chats,\r\n              friends: [],\r\n            });\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { auth } = this.props;\r\n    if (!auth.uid) return <Redirect to=\"/login\" />;\r\n    return (\r\n      <div>\r\n        <ChatList\r\n          newChatBtnFn={this.newChatBtnClicked}\r\n          history={this.props.history}\r\n          selectChatFn={this.selectChat}\r\n          chats={this.state.chats}\r\n          userEmail={this.state.email}\r\n          userName={this.state.userName}\r\n          selectedChatIndex={this.state.selectedChat}\r\n        ></ChatList>\r\n        {this.state.newChatFormVisible ? null : (\r\n          <ChatView\r\n            userEmail={this.state.email}\r\n            user={this.state.email}\r\n            chat={this.state.chats[this.state.selectedChat]}\r\n          ></ChatView>\r\n        )}\r\n        {this.state.selectedChat !== null && !this.state.newChatFormVisible ? (\r\n          <ChatTextBox\r\n            messageReadFn={this.messageRead}\r\n            submitFn={this.submitMessage}\r\n          ></ChatTextBox>\r\n        ) : null}\r\n        {this.state.newChatFormVisible ? (\r\n          <NewChat\r\n            goToChatFn={this.goToChat}\r\n            newChatSubmitFn={this.newChatSubmit}\r\n          ></NewChat>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state);\r\n  const chats = state.firestore.ordered.chats;\r\n  return {\r\n    chats: chats,\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps),\r\n  firestoreConnect([{ collection: \"privateChats\" }])\r\n)(PrivateChat);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Button } from \"@material-ui/core\";\r\n// import { makeStyles } from \"@material-ui/core/styles\";\r\nimport \"./profile.css\";\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//   margin: {\r\n//     margin: '30px',\r\n//     padding: '40px',\r\n//   }\r\n// }));\r\n\r\nclass Profile extends Component {\r\n  state = {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    userName: \"\",\r\n  };\r\n  handleSubmit = (e) => {};\r\n  render() {\r\n    const { auth, profile } = this.props;\r\n    // const classes = useStyles();\r\n    return (\r\n      <div className=\"footer text-center\">\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        {/* <img src={auth.photoUrl} alt=\"auth-img\"/> */}\r\n        <h1>Hello {profile.username}</h1>\r\n        <h2>Here you can change your Settings</h2>\r\n        <br />\r\n        <br />\r\n        <TextField\r\n          id=\"standard-read-only-input\"\r\n          label=\"Email\"\r\n          defaultValue={auth.email}\r\n          InputProps={{\r\n            readOnly: true,\r\n          }}\r\n        />\r\n        <br />\r\n        <br />\r\n        <TextField\r\n          id=\"username\"\r\n          label=\"Username\"\r\n          defaultValue={auth.password}\r\n          // helperText=\"Some important text\"\r\n        />\r\n        <br />\r\n        <br />\r\n        <TextField\r\n          id=\"firstName\"\r\n          label=\"First Name\"\r\n          defaultValue={profile.firstName}\r\n          // helperText=\"Some important text\"\r\n        />\r\n        <br />\r\n        <br />\r\n        <TextField\r\n          id=\"lastName\"\r\n          label=\"Last Name\"\r\n          defaultValue={profile.lastName}\r\n          // helperText=\"Some important text\"\r\n        />\r\n        <br />\r\n        <br />\r\n        <Button className=\"jkk\" variant=\"contained\" color=\"primary\">\r\n          Update\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state);\r\n  return {\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Profile);\r\n","import React, { Component } from \"react\";\r\nimport { Route, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport Home from \"./pages/Home/Home\";\r\nimport Chat from \"./pages/Chat/Chat\";\r\nimport Signup from \"./pages/Signup/Signup\";\r\nimport Login from \"./pages/Login/Login\";\r\nimport About from \"./pages/About/About\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./styles.css\";\r\n// import Default from \"./pages/Default/Default\";\r\nimport Header from \"./components/Header\";\r\n// import Footer from \"./components/Footer\";\r\nimport PrivateChat from \"./pages/Chat/PrivateChat/PrivateChat\";\r\nimport Profile from \"./pages/Profile/Profile\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      // this.state.loading === true ? (\r\n      //   <div className=\"spinner-border text-success\" role=\"status\">\r\n      //     <span className=\"sr-only\">Loading...</span>\r\n      //   </div>\r\n      // ) : (\r\n      <Router>\r\n        <div className=\"App\">\r\n          <Header />\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route path=\"/chat\" component={Chat} />\r\n            <Route path=\"/private-chat\" component={PrivateChat} />\r\n            <Route path=\"/signup\" component={Signup} />\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/about\" component={About} />\r\n            <Route path=\"/profile\" component={Profile} />\r\n            {/* <Route component={Default} /> */}\r\n          </Switch>\r\n          {/* <Footer /> */}\r\n        </div>\r\n      </Router>\r\n      // );\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initState = {};\r\n\r\nconst chatReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"CREATE_CHAT\":\r\n      console.log(\"created chat\", action.chat);\r\n      return state;\r\n    case \"CREATE_CHAT_ERROR\":\r\n      console.log(\"create chat error\", action.err);\r\n      return state;\r\n    case \"DELETE_CHAT\":\r\n      console.log(\"Deleted chat\");\r\n      return state;\r\n    case \"DELETE_CHAT_ERROR\":\r\n      console.log(\"Delete chat error\");\r\n      return state;\r\n    case \"EDIT_CHAT\":\r\n      console.log(\"Edited chat\");\r\n      return state;\r\n    case \"EDIT_CHAT_ERROR\":\r\n      console.log(\"Edit chat error\");\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default chatReducer;\r\n","const initState = {};\r\n\r\nconst authReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_ERROR\":\r\n      console.log(\"login error\");\r\n      return {\r\n        ...state,\r\n        // signInError: \"Login failed\",\r\n        signInError: action.err.message,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      console.log(\"login success\");\r\n      return {\r\n        ...state,\r\n        signInError: null,\r\n      };\r\n    case \"SIGNOUT_SUCCESS\":\r\n      console.log(\"signout success\");\r\n      return state;\r\n    case \"SIGNUP_SUCCESS\":\r\n      console.log(\"signup success\");\r\n      return {\r\n        ...state,\r\n        signUpError: null,\r\n      };\r\n    case \"SIGNUP_ERROR\":\r\n      console.log(\"signup error\");\r\n      return {\r\n        ...state,\r\n        signUpError: action.err.message,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","const initState = {};\r\n\r\nconst privateChatReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"CREATE_PRIVATE_CHAT\":\r\n      console.log(\"created chat\", action.chat);\r\n      return state;\r\n    case \"CREATE_PRIVATE_CHAT_ERROR\":\r\n      console.log(\"create chat error\", action.err);\r\n      return state;\r\n    case \"DELETE_PRIVATE_CHAT\":\r\n      console.log(\"Deleted chat\");\r\n      return state;\r\n    case \"DELETE_PRIVATE_CHAT_ERROR\":\r\n      console.log(\"Delete chat error\");\r\n      return state;\r\n    case \"EDIT_PRIVATE_CHAT\":\r\n      console.log(\"Edited chat\");\r\n      return state;\r\n    case \"EDIT_PRIVATE_CHAT_ERROR\":\r\n      console.log(\"Edit chat error\");\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default privateChatReducer;\r\n","import chatReducer from \"./chatReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport privateChatReducer from \"./privateChatReducer\";\r\nimport { combineReducers } from \"redux\";\r\nimport { firestoreReducer } from \"redux-firestore\";\r\nimport { firebaseReducer } from \"react-redux-firebase\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  chats: chatReducer,\r\n  privateChats: privateChatReducer,\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport rootReducer from \"./store/reducers/rootReducer\";\nimport { Provider, useSelector } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport firebase from \"firebase/app\";\nimport {\n  ReactReduxFirebaseProvider,\n  getFirebase,\n  isLoaded,\n} from \"react-redux-firebase\";\nimport {\n  getFirestore,\n  createFirestoreInstance,\n  reduxFirestore,\n} from \"redux-firestore\";\nimport fbConfig from \"./services/firebase\";\n\nconst initialState = {};\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore })),\n    reduxFirestore(fbConfig)\n    // reactReduxFirebase({useFirestoreForProfile: true})\n  )\n);\n\nconst rrfConfig = {\n  userProfile: \"users\",\n  useFirestoreForProfile: true,\n  // Firestore for Profile instead of Realtime DB\n};\n\nconst fbProps = {\n  firebase,\n  config: rrfConfig,\n  dispatch: store.dispatch,\n  createFirestoreInstance,\n  RealtimeDB: fbConfig, // <- needed if using firestore\n};\n\nconst AuthIsLoaded = ({ children }) => {\n  const auth = useSelector((state) => state.firebase.auth);\n  if (!isLoaded(auth)) {\n    return <div></div>;\n  }\n  return children;\n};\n\nReactDOM.render(\n  <Provider store={store}>\n    <ReactReduxFirebaseProvider {...fbProps}>\n      <AuthIsLoaded>\n        <App />\n      </AuthIsLoaded>\n    </ReactReduxFirebaseProvider>\n  </Provider>,\n\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n\n// unregister() to register() below. Note this comes with some pitfalls.\n\n// Learn more about service workers:\n//bit.ly/CRA-PWA\n\nserviceWorker.unregister();\n"],"sourceRoot":""}